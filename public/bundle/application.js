"use strict";angular.module("ou3",["ngTouch","ngAnimate"]).constant("LEVEL_CODES",["neighborhood","route","postal_code","postal_code_suffix","locality","sublocality_level_1","administrative_area_level_1","administrative_area_level_2"]);
"use strict";angular.module("ou3").controller("DataController",["$scope","placer","brooxMap","$window",function(o,e,n,a){o.mapLoaded=!1,o.area={},o.$on("geocode",function(n,a){o.area=e.extract(a),o.$apply()}),o.toggleMiniLock=function(){console.log("toggling"),o.$emit("toggle_mini_lock")},o.handleUpdatePosition=function(){console.log("handleUpdatePosition Called",arguments,Date.now()),o.$emit("update_position")},o.reload=function(){a.location.reload()},n.mapLoaded.then(function(e){o.mapLoaded=!0})}]);
"use strict";angular.module("ou3").controller("MainController",["$scope","$window","brooxMap",function(o,n,t){function i(n){n.length&&n[0].address_components&&o.$broadcast("geocode",n[0].address_components)}n.navigator.geolocation||alert("This isn't gonna work out :/");var e=new t.google.maps.Geocoder,a=document.querySelector("#map-canvas");this.miniLock=!1,o.$on("toggle_mini_lock",function(n){o.miniLock=!o.miniLock}),this.position={lat:40.216339,lng:-74.741427},o.updatePosition=function(){n.navigator.geolocation.getCurrentPosition(function(n){o.position=new t.LatLng(n.coords.latitude,n.coords.longitude),t.updateMap(o.position),e.geocode({latLng:o.position},i)})},o.$on("update_position",o.updatePosition),t.loadGoogle.then(function(){t.initMap(a),o.updatePosition()})}]);
"use strict";angular.module("ou3").factory("brooxMap",["$q","$window",function(e,o){function t(){l.resolve(!0)}function n(e){var o={center:s,zoom:15,disableDefaultUI:!0,mapTypeControl:!0,mapTypeControlOptions:{style:i.maps.MapTypeControlStyle.DROPDOWN_MENU},streetViewControl:!0,streetViewControlOptions:{position:i.maps.ControlPosition.RIGHT_TOP}};u=new i.maps.Map(e,o),p.resolve(),r()}function a(e){s=e,u&&(u.setCenter(s),r())}function r(){m&&m.setMap(null),m=new i.maps.Marker({position:s,map:u,animation:i.maps.Animation.DROP,title:"You are Here"})}var i=o.google,l=e.defer(),p=e.defer(),s={lat:40.216339,lng:-74.741427},u=null,m=null;return i.maps.event.addDomListener(o,"load",t),{loadGoogle:l.promise,mapLoaded:p.promise,google:i,initMap:n,updateMap:a,LatLng:i.maps.LatLng,getMarker:function(){return m},getMap:function(){return u}}}]);
"use strict";angular.module("ou3").factory("placer",["LEVEL_CODES",function(r){function n(r,n){for(var t={},e=0,u=n.length;u>e;e++){var a=$.grep(r,function(r,t){return r.types[0]==n[e]});a.length&&(t[n[e]]=a[0].long_name)}return t}var t=function(t){return n(t,r)};return{extract:t}}]);
//# sourceMappingURL=application.js.map
